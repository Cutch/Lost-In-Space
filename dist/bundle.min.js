function lis(){const _t={"a":"right","b":"#fff","c":"24px Arial","d":"center","e":"20px Arial","f":"addEventListener","g":"prototype","h":"position","i":"height","j":"fillStyle","k":"fillRect","l":"canvas","m":"forEach","n":"update","o":"statusText","p":"createOscillator","q":"exponentialRampToValueAtTime","r":"currentTime","s":"createPattern","t":"createElement","u":"getContext","v":"acceleration","w":"background"};const _s=setTimeout;const _m=Math;const Xb=_m.random;const Xa=_m.floor;const _d=document;const _a=window[_t.f];let t,e,s={};function i(t,...e){(s[t]||[]).map(t=>t(...e))}function h(){return e}const n=()=>{};class o{constructor(t=0,e=0,s={}){this.x=t,this.y=e}add(t){return new o(this.x+t.x,this.y+t.y,this)}}function r(){return new o(...arguments)}r[_t.g]=o[_t.g],r.t=o;class a extends class{constructor(t){return this.init(t)}init(t={}){this[_t.h]=r(),this.s=r(),Object.assign(this,t)}update(t){this.advance(t)}advance(t){let e=this.s;this[_t.h]=this[_t.h].add(e),this.i()}get dx(){return this.s.x}get dy(){return this.s.y}set dx(t){this.s.x=t}set dy(t){this.s.y=t}i(){}}{init({width:t=0,height:e=0,_c:s=h(),h:i=this.o,update:n=this.advance,anchor:o={x:0,y:0},_r:r=0,...a}={}){super.init({width:t,height:e,_c:s,anchor:o,_r:r,...a}),this.l=1,this.u(),this.p=i,this.M=n}h(t){let e=this._c;e.save(),(this.x||this.y)&&e.translate(this.x,this.y),this._r&&e.rotate(this._r);let s=-this.width*this.anchor.x,i=-this[_t.i]*this.anchor.y;(s||i)&&e.translate(s,i),this.p(),(s||i)&&e.translate(-s,-i),e.restore()}o(){}i(t,e){this.u()}get x(){return this[_t.h].x}get y(){return this[_t.h].y}set x(t){this[_t.h].x=t,this.i()}set y(t){this[_t.h].y=t,this.i()}get width(){return this.g}set width(t){this.g=t,this.i()}get height(){return this.m}set height(t){this.m=t,this.i()}u(){if(!this.l)return;let{A:t=0,S:e=0,v:s=0}=this.parent||{};this.A=this.x,this.S=this.y,this.C=this.width,this.k=this[_t.i],this.v=s+this._r;let{x:i,y:h}=function(t,e){let s=_m.sin(e),i=_m.cos(e);return{x:t.x*i-t.y*s,y:t.x*s+t.y*i}}({x:this.x,y:this.y},s);this.A=i,this.S=h}get T(){return{x:this.A,y:this.S,width:this.C,height:this.k,_r:this.v}}get _r(){return this.F}set _r(t){this.F=t,this.i()}}function c(){return new a(...arguments)}c[_t.g]=a[_t.g],c.t=a;class l extends c.t{init({...t}={}){super.init({...t})}o(){this.color&&(this._c[_t.j]=this.color,this._c[_t.k](0,0,this.width,this[_t.i]))}}function d(){return new l(...arguments)}d[_t.g]=l[_t.g],d.t=l;let u=/(\d+)(\w+)/;class f extends c.t{init({text:t="",textAlign:e="",lh:s=1,font:i=h().font,...n}={}){super.init({text:t,textAlign:e,lh:s,font:i,...n}),this.I()}get width(){return this.g}set width(t){this.W=1,this.g=t,this._=t}get text(){return this.H}set text(t){this.W=1,this.H=t}get font(){return this.D}set font(t){this.W=1,this.D=t,this.R=function(t){let e=t.match(u),s=+e[1];return{size:s,$:e[2],U:s}}(t).U}get lh(){return this.L}set lh(t){this.W=1,this.L=t}h(){this.W&&this.I(),super.h()}I(){this.q=[],this.W=0;let t=this._c;t.font=this.font,this.q.length||(this.q.push(this.text),this.g=this._||t.measureText(this.text).width),this[_t.i]=this.R+(this.q.length-1)*this.R*this.lh,this.u()}o(){let t=this.textAlign,e=this._c;this.q.map((s,i)=>{e.textBaseline="top",e.textAlign=t,e[_t.j]=this.color,e.font=this.font,e.fillText(s,0,this.R*this.lh*i)})}}function w(){return new f(...arguments)}function p(t){let e=t[_t.l];t.clearRect(0,0,e.width,e[_t.i])}w[_t.g]=f[_t.g],w.t=f;let x={},M={},g={Enter:"enter",Escape:"esc",Space:"space"};function y(t){let e=g[t.code];M[e]=1,x[e]&&x[e](t)}function m(t){M[g[t.code]]=0}function A(){M={}}function S(t){return!!M[t]}const b=(t,e)=>_m.sqrt(_m.pow(t.x-e.x,2)+_m.pow(t.y-e.y,2)),v=(t,e)=>_m.sqrt(_m.pow(t,2)+_m.pow(e,2)),C=(t,e)=>(_m.atan2(e.y-t.y,e.x-t.x)+_m.PI/2)%(2*_m.PI),k="Fire Rate Upgrade",E="Secondary Fire Rate Upgrade",T="Speed Upgrade",F="Hull Repaired",I="Warp Drive Fixed, Warping in 3, 2, 1...",W="Secondary Weapons Online",_="Acceleration Increased",H="Rotor Speed Increased",D=function(t){return()=>(t=1e4*_m.sin(t))-Xa(t)},R=t=>Array.apply(null,Array(t)).map((t,e)=>e),U=({width:t,height:e})=>{const s=[1.5*Xb(),Xb()-.5];return s[1]=_m.sign(s[1])+s[1],Xb()>.5&&s.reverse(),s[0]=Xa(s[0]*t),s[1]=Xa(s[1]*e),s};class $ extends c.t{O=[];constructor(t){super(t)}o(){const{_c:t}=this;t[_t.j]="#000",t[_t.k](-this.x,-this.y,t[_t.l].width,t[_t.l][_t.i]),t[_t.j]=_t.b,R(Xa(t[_t.l].width*t[_t.l][_t.i]*1e-4))[_t.m](e=>t[_t.k](-this.x+(this.x+(2*_m.pow(e,3)+20*e))%t[_t.l].width,-this.y+(this.y+(2*_m.pow(e,3)+20*e))%t[_t.l][_t.i],e%3+1,e%3+1))}update(t){if(super[_t.n](),this.O[_t.m]((e,s)=>{e[_t.n](),t-e.P>300&&this.O.splice(s,1)}),t%300==0){const[e,s]=U(this._c[_t.l]);this.O.push(new d({color:_t.b,x:e,y:s,width:2,height:4,P:t,dx:7*-_m.sign(e),dy:7*-_m.sign(s),_r:C({x:e,y:s},{x:-e,y:-s})}))}}h(){super.h(),this.O[_t.m](t=>t.h())}}const L={font:_t.c,color:_t.b,textAlign:_t.a};class q extends c.t{N=[];B=1;X=0;constructor(t){super(t);this.Y=new w(L),this.j=new w(L),this.G=new w({font:"12px Arial",color:_t.b,text:"Press SPACE to skip"}),this.K=new d({color:"#6009"})}J(t){this.X=t}h(){const t=this;t.Y.h(),t.j.h(),t[_t.o]&&(t.K.h(),t[_t.o].h(),t.X&&t.G.h())}V(t,e=6e3){this.N.push([t,e]),this[_t.o]||this.Z()}Z(){if(clearTimeout(this.tt),this.N.length>0){const[t,e]=this.N.shift();this[_t.o]=new w({font:_t.c,color:_t.b,text:t,textAlign:_t.d,x:this._c[_t.l].width/2,y:20}),this.tt=_s(()=>this.Z(),e)}else this[_t.o]=null}update(t){const e=this,s=e._c[_t.l].width,i=e._c[_t.l][_t.i];e.Y.x=s-20,e.Y.y=i-20-24,e.j.x=s-20,e.j.y=i-45-20-24,e.Y.text=`Scrap: ${t.et}t`,e.j.text=`Hull Integrity: ${t.st}%`,e[_t.o]&&(e.K.width=s,e.K[_t.i]=64,e[_t.o].x=s/2,e[_t.o].y=20,e.X&&(e.G.x=s/2+150,e.G.y=47))}}class O extends d.t{constructor(t){super(t={...t,width:2,height:10,color:"#abab46",it:0})}update(t,e){super[_t.n](),t.filter(t=>(({x:t,y:e},{x:s,y:i,width:h,height:n})=>t>s-h/2&&t<s+h/2&&e>i-n/2&&e<i+n/2)(this,t))[_t.m](t=>{this.it=1,t.ht(),t.st<=0&&this._c[_t.l].dispatchEvent(new CustomEvent("eh",{detail:t}))}),b({x:e.nt+e.x,y:e.ot+e.y},this)<=e.rt&&(this.it=1)}}const P=window.AudioContext||window.webkitAudioContext;let N=()=>{},z=()=>{},B=()=>{},X=()=>{};if(P){const t=new P;let e,s,i;N=()=>{const e=t[_t.p]();e.type="square";const s=t.createGain();s.gain.value=.15,s.gain[_t.q](1e-4,t[_t.r]+.04),e.frequency.value=100,e.connect(s),s.connect(t.destination),e.start(),_s(()=>e.stop(),100)},z=()=>{const e=t[_t.p]();e.type="sawtooth";const s=t.createGain();s.gain.value=.5,s.gain[_t.q](1e-4,t[_t.r]+.15),e.frequency.value=50,e.connect(s),s.connect(t.destination),e.start(),_s(()=>e.stop(),150)},B=h=>{if(clearTimeout(i),e)s.cancelScheduledValues(t[_t.r]),s.setValueAtTime(.1,t[_t.r]);else{const i=t.createBiquadFilter();i.type=0,i.Q.value=20,e=[t[_t.p](),t[_t.p]()];const[n,o]=e;n.frequency.value=10*h,o.frequency.value=25,e[_t.m]((t,e)=>{t.type="triangle",t.connect(i),t.start(0)});const r=t.createGain();s=r.gain,s.value=.1,i.connect(r),r.connect(t.destination)}},X=()=>{s&&(s.setValueAtTime(s.value,t[_t.r]),s[_t.q](1e-5,t[_t.r]+.02)),i=_s(()=>{e&&e[_t.m](t=>t.stop()),e=null},20)},_a("keydown",()=>{t.resume()})}const Y=[30,0,22.5,15,20,30,0,45,0,57,15,60,45,60,60,57,60,45,40,30,37.5,15],j=(t,e,s,i,h,n,o=h)=>{t.beginPath(),t.moveTo(e,s),t.lineTo(i,h),t.lineTo(n,o),t.fill()};class G extends c.t{acceleration=.05;at=.05;ct=4;lt=0;dt=0;ut=[];ft=20;wt=-99;pt=0;xt=15;Mt=-99;level=1;gt=1;yt=0;et=0;At=0;constructor(t,e){super({width:60,height:60,St:0,bt:0,st:100,anchor:{x:.5,y:.5}});const s=this,i=s._c;s.vt=t,s.Ct=i.createLinearGradient(0,0,0,80),s.Ct.addColorStop(.6,"#f00"),s.Ct.addColorStop(1,"#600"),s.color=this._c[_t.s]((()=>{const t=_d[_t.t]("canvas"),e=t[_t.u]("2d");return t.width=60,t[_t.i]=60,e[_t.j]="#888",e[_t.k](0,0,60,60),e[_t.j]="#444",j(e,40,30,50,60,80),j(e,20,30,10,60,-20),e[_t.j]="#777",j(e,30,5,20,50,40),e[_t.j]="#666",j(e,30,5,20,40,40),e[_t.j]="#222",j(e,30,15,25,35,35),e[_t.j]="#AAA",R(4)[_t.m](t=>{j(e,10*t+15,50,10*t+10,60,10*t+20)}),t})(),"repeat"),s.kt=[[20,()=>s.ft=15,k],[40,()=>(s.ct=5.5,s.gt++),T],[60,()=>s.ft=10,k],[80,()=>(s.ct=6.5,s.gt++),T],[120,()=>s.ft=5,k],[140,()=>(s.ct=7.5,s.gt++),T],[250,()=>(s.ct=9,s.gt++),T],[300,()=>s[_t.v]=.08,_],[350,()=>s.ft=4,k],[400,()=>s.pt=1,W],[450,()=>s.ft=3,k],[500,()=>s.at=.08,H],[550,()=>s.xt=10,E],[650,()=>s.ft=2,k],[750,()=>s.xt=7,E]],e||s.kt.push([200,()=>s.lt=1,I]),i[_t.l][_t.f]("eh",()=>{s.et++,s.kt[_t.m](([e,i,h])=>{e===s.et&&(s.level++,i(),t.V(h))}),s.et%100==0&&(s.level++,s.st=_m.min(100,s.st+50),t.V(F))})}o(){const t=this,e=t._c;e[_t.j]=t.color,e.beginPath();for(let t=0;t<Y.length;t+=2)e.lineTo(Y[t],Y[t+1]);if(e.fill(),t.dt){e[_t.j]=t.Ct,e.beginPath();const s=Xb(),i=Xa(2*_m.pow(t.ct/2,2));R(13)[_t.m](h=>e.lineTo(15+t.width/2/12*h,60+h%2*(2*i-s*i*_m.sqrt(_m.abs(h/2-3))))),e.fill()}}h(){super.h(),this.ut[_t.m](t=>t.h())}update(t,e,s){const i=this;i.ut[_t.m]((h,n)=>{h.P<s-80||h.it?i.ut.splice(n,1):h[_t.n](t,e)}),i.yt=Xa(s/600),t.filter(t=>b({x:i.x,y:i.y},t)<55)[_t.m](t=>{z(),i.st-=10,i._c[_t.l].dispatchEvent(new CustomEvent("eh",{detail:t}))});const h=i.dt;if(i.dt=S("w"),i.dt&&!h?B(i.gt):!i.dt&&h&&X(),S("space")){let t=0;s-i.wt>=i.ft&&(t=1,i.wt=s,i.Et(s)),i.pt&&s-i.Mt>=i.xt&&(t=1,i.Mt=s,i.Tt(s)),t&&N()}if(S("w")){i.St+=-_m.sin(i._r)*i[_t.v],i.bt+=_m.cos(i._r)*i[_t.v];const t=v(i.St,i.bt);t>i.ct&&(i.St*=i.ct/t,i.bt*=i.ct/t)}const n=i.at/(i.At?1:2);S("a")?(i._r=i._r-n,i.At=1):S("d")?(i._r=i._r+n,i.At=1):this.At=0}Et(t){const e=_m.sin(this._r),s=_m.cos(this._r);this.ut.push(new O({dx:10*e,dy:10*-s,x:this.x+40*e,y:this.y-40*s,_r:this._r,P:t}))}Tt(t){const e=_m.sin(this._r),s=_m.cos(this._r);this.ut.push(new O({dx:15*e,dy:15*-s,x:this.x+-5*e-30*s,y:this.y- -5*s-30*e,_r:this._r,P:t})),this.ut.push(new O({dx:15*e,dy:15*-s,x:this.x+-5*e+30*s,y:this.y- -5*s+30*e,_r:this._r,P:t}))}}const K=[],J=[],Q=["#01b7e7","#ffb141","#cdccca","#8db9de","#f54c23","#ffb22b","#ca5c3b","#99ecfc","#b7b6b4"];class V extends d.t{constructor(t){super(t={...t,width:40,height:40,St:0,bt:0,anchor:{x:.5,y:.5}}),this.type=3*Xa(Xb()*K.length/3),this.Ft=K,this.st++,this.ht()}ht(){this.st--,this.st>0&&(this.color=this.Ft[this.st-1+this.type])}update(t,e){const s=this,i={x:e.nt+e.x,y:e.ot+e.y,rt:e.rt};let h;if(i.rt>0){const t=b(s,i)-i.rt;h={angle:C(s,i)+110,It:t}}const n=t.reduce((t,e)=>{if(e!==s){const i=b(s,e);if(i<t.It){return{angle:C(s,e)+180,It:i}}}return t},{It:100,angle:0});let o=C(s,s.Wt);h&&h.It<100?o=(h.angle+o)/2:n.It<100&&(o=(n.angle+o)/2),s.St-=.1*_m.sin(o),s.bt+=.1*_m.cos(o);const r=v(s.St,s.bt),a=s.Wt.yt,c=_m.min(a/8,5)+5;r>c&&(s.St*=c/r,s.bt*=c/r),s.dx-=s.St,s.dy-=s.bt,super[_t.n]()}}const Z="36px Arial",tt=window.localStorage;class et extends c.t{_t=0;constructor(t,e){super(),X();const s=this;s[_t.w]=new d({width:650,height:400,color:"#600A"}),s.Ht=new w({font:_t.e,color:_t.b,text:"Me: These are the coordinates, where's Earth?",textAlign:_t.d}),s.Dt=new w({font:_t.e,color:_t.b,text:"Computer: Error: 404. Earth not found.",textAlign:_t.d}),s.Rt=new w({font:_t.e,color:_t.b,text:"Me: Okay... Well I might as well see how many Corg I can destroy",textAlign:_t.d}),s.Ut=new w({font:Z,color:_t.b,text:"Game Over",textAlign:_t.d}),s.$t=new w({font:Z,color:_t.b,text:"Score: "+t.et,textAlign:_t.d});let i=0;if(tt){const h=_m.max(tt.getItem("lins_score")||0,t.et);i=tt.getItem("lins_won")||0,tt.setItem("lins_score",h),tt.setItem("lins_won",i||e),s.Lt=new w({font:"18px Arial",color:_t.b,text:`High Score: ${h} scrap`,textAlign:_t.d})}var h;s.qt=new w({font:Z,color:_t.b,text:`${!i&&e?"Completed in":"Lasted"}: ${t.yt} day${h=t.yt,1!==h?"s":""}`,textAlign:_t.d}),s.Ot=new w({font:Z,color:_t.b,text:"Endless Destruction? Press Enter",textAlign:_t.d}),s._t=e}h(){const t=this;t[_t.w].h(),t._t?(t.Ht.h(),t.Dt.h(),this.Rt.h()):t.Ut.h(),t.$t.h(),t.qt.h(),t.Lt&&t.Lt.h(),t.Ot.h()}update(){const t=this,e=t._c[_t.l].width/2,s=t._c[_t.l][_t.i]/2;t[_t.w].x=e-t[_t.w].width/2,t[_t.w].y=s-t[_t.w][_t.i]/2,t.Ht.x=e,t.Ht.y=s-160,t.Dt.x=e,t.Dt.y=s-132,t.Rt.x=e,t.Rt.y=s-104,t.Ut.x=e,t.Ut.y=s-112,t.$t.x=e,t.$t.y=s-56,t.qt.x=e,t.qt.y=s,t.Lt&&(t.Lt.x=e,t.Lt.y=s+56),t.Ot.x=e,t.Ot.y=s+112}}class st extends c.t{constructor(t){super(t)}o(){const{_c:t}=this;t[_t.j]=J[_m.pow(10*this.Pt+this.Nt,2)%J.length],t.beginPath(),t.arc(this.nt,this.ot,this.rt,0,2*_m.PI),t.fill()}update(t,e,s){super[_t.n]();const{width:i,height:h}=this._c[_t.l],n=(this.x||0)-i/2,o=(this.y||0)-h/2,r=2*i,a=2*h,c=Xa(n/r)+1,l=Xa(o/a)+1;if(this.Pt=c,this.Nt=l,0===c&&0===l)this.rt=0;else{const t=D(1e4*c+l);this.rt=Xa(60*t()+40),this.nt=Xa(t()*(r-4*this.rt)/2+r/4-c*r+this.rt),this.ot=Xa(t()*(a-4*this.rt)/2+a/4-l*a+this.rt)}this.rt>0&&[...t,e][_t.m](t=>{const e={x:this.nt,y:this.ot},s={x:t.x-this.x,y:t.y-this.y},i=b(s,e);if(i<=this.rt+30){const h={x:(s.x-e.x)/i,y:(s.y-e.y)/i},n={x:-t.St,y:t.bt},o=-n.x*h.x+n.y*h.y;o>0&&(t.St=-o*h.x*.8,t.bt=-o*h.y*.8)}else if(i<6*this.rt){const h=C(s,e);t.St+=-_m.sin(h)/50*i/200,t.bt+=_m.cos(h)/50*i/200}})}}const{_c:it,canvas:ht}=function(s){return t=_d.getElementById(s)||s||_d.querySelector("canvas"),e=t[_t.u]("2d"),e.zt=0,i("init"),{canvas:t,_c:e}}();function nt(){const t=_d.getElementsByTagName("canvas")[0];t.width=window.innerWidth,t[_t.i]=window.innerHeight}(t=>{R(15).reduce((t,e)=>[...t,...["#080","#00f","#d00"].map(t=>((t,e)=>{const s=_d[_t.t]("canvas"),i=s[_t.u]("2d");s.width=40,s[_t.i]=40,i[_t.j]=t,i[_t.k](0,0,40,40);const h=D(e+1);for(let t=0,e=0;e<40;){const s=Xa(7*h()+2);i[_t.j]=h()<.5?"#333":"#222",i[_t.k](t,e,s,Xa(7*h()+2)),t+=1+s,t>40&&(e+=5,t=0)}return s})(t,e))],[]).map(e=>t[_t.s](e,null))[_t.m](t=>K.push(t)),R(50).map(t=>(t=>{const e=_d[_t.t]("canvas"),s=e[_t.u]("2d");e.width=300,e[_t.i]=300,s[_t.j]="#b7b6b4",s[_t.k](0,0,300,300);const i=D(t+1);return R(40)[_t.m](()=>{s[_t.j]=Q[Xa(i()*Q.length)];const[t,e,h,n]=R(8).map(()=>Xa(250*i()+50)),[o,r,a,c]=R(8).map(()=>Xa(50*i()+10));s.moveTo(t,e),s.bezierCurveTo(t+o,e+r,h+a,n+c,h,n),s.moveTo(h,n),s.bezierCurveTo(h-o,n-r,t-a,e-c,t,e),s.fill()}),e})(t)).map(e=>t[_t.s](e,null))[_t.m](t=>J.push(t))})(it),_a("resize",nt,0),nt(),function(){let t;for(t=0;t<26;t++)g[t+65]=g["Key"+String.fromCharCode(t+65)]=String.fromCharCode(t+97);for(t=0;t<10;t++)g[48+t]=g["Digit"+t]=""+t;_a("keydown",y),_a("keyup",m),_a("blur",A)}();let ot=new w({color:"#600D",font:"70px Arial",textAlign:_t.d,text:"Lost In Space",x:ht.width/2,y:ht[_t.i]/4});const rt=window.localStorage,at=new w({font:"36px Arial",color:_t.b,text:"Paused",textAlign:_t.d});let ct,lt,dt,ut,ft,wt,pt,xt,Mt,gt=rt&&rt.getItem("lins_won")||0;const yt=()=>{ct=1,lt=null,dt=new q,ut=new $,wt=new G(dt,gt),Mt=0,xt=1,pt=[],ft=new st,gt?["Me: Well let's get some Corg?","Computer: Error: 404. Corg Not Found.","Me: What the heck is that then???","Computer: Use my WASD keys to fly and The Bar to shoot. ESC to stop time."][_t.m](t=>dt.V(t,_m.max(t.split(" ").length,6)/150*6e4)):["Me: Where am I?","Computer: Error: 404. Location Not Found.","Me: It looks like I have drifted for 10 warp days. I will have to find my way back.","Me: This may be Corg space, I don't want to get assimil...assinated.","Me: Computer, System Status.","Computer: All systems have been destroyed.","Me: Ugh, now I need some scrap to fix the systems.","Computer: 200t of scrap are needed","Computer: Use my WASD keys to fly and The Bar to shoot. ESC to stop time."][_t.m](t=>dt.V(t,_m.max(t.split(" ").length,6)/150*6e4))};yt();let mt=1;let At=1;const St=function({Bt:t=60,Xt:e=1,update:s=n,h:o,_c:r=h()}={}){let a,c,l,d,u,f=0,w=1e3/t,x=1/t,M=e?p:n;function g(){if(c=requestAnimationFrame(g),l=performance.now(),d=l-a,a=l,!(d>1e3)){for(i("tick"),f+=d;f>=w;)u[_t.n](x),f-=w;M(r),u.h()}}return u={update:s,h:o,Yt:1,start(){a=performance.now(),this.Yt=0,requestAnimationFrame(g)},stop(){this.Yt=1,cancelAnimationFrame(c)}},u}({Xt:0,update:()=>{lt?(lt[_t.n](),S("enter")&&yt()):ct||(()=>{if(S("esc")?mt&&(mt=0,Mt=!Mt):mt=1,dt[_t.n](wt),!Mt){if(xt++,wt[_t.n](pt,ft,xt),ut.dx=wt.St,ut.dy=wt.bt,ut[_t.n](xt),ft.dx=wt.St,ft.dy=wt.bt,ft[_t.n](pt,wt,xt),pt[_t.m](t=>{t.dx=wt.St,t.dy=wt.bt,t[_t.n](pt,ft)}),xt%_m.max(3*(30-wt.yt),30)==0){const[t,e]=U(ht),s=_m.max(2*_m.min((wt.yt-3)/20,1),0)+1;pt.push(new V({x:t,y:e,Wt:wt,st:Xa(_m.pow(Xb(),2)*s+1)}))}200===wt.lt&&_s(()=>{pt=[],gt=1,lt=new et(wt,1)},3e3)}})(),wt.x=ht.width/2,wt.y=ht[_t.i]/2,at.x=wt.x,at.y=wt.y,ot&&(ot.x=ht.width/2,ot.y=ht[_t.i]/4)},h:()=>{ut.h(),ft.h(),pt[_t.m](t=>t.h()),wt.h(),dt.h(),Mt?at.h():lt?lt.h():ct&&(0===dt.N.length&&(ct=0),dt.J(ct),S("space")?At&&(At=0,dt.Z()):At=1,dt[_t.n](wt)),ot&&ot.h()}});ht[_t.f]("eh",({detail:t})=>{pt.splice(pt.indexOf(t),1)}),St.start(),_s(()=>ot=null,6e3);};lis();
